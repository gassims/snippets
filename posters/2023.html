<html lang="en">
<head>  
  <link rel="stylesheet" href="./form.css">
  <link rel="stylesheet" href="./style.css">
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css">
	<script src="./form.js"></script>
</head>
<body>
<div class="main">
  <div class="container">
      <div id="myBtnContainer">
        <button class="btn" onclick="filterSelection('all')"> Show all</button>
          <button class="btn" onclick="filterSelection('anticorruption')"> Anti-corruption</button>
          <button class="btn" onclick="filterSelection('cdc')"> CDC</button>
          <button class="btn" onclick="filterSelection('covid19')"> COVID-19</button>
          <button class="btn" onclick="filterSelection('customapp')"> Custom App</button>
          <button class="btn" onclick="filterSelection('datause')"> Data Use</button>
          <button class="btn" onclick="filterSelection('hiv')"> HIV</button>
          <button class="btn" onclick="filterSelection('integration')"> Integration</button>
          <button class="btn" onclick="filterSelection('interoparability')"> Interoperability</button>
          <button class="btn" onclick="filterSelection('pepfar')"> PEPFAR</button>
          <button class="btn" onclick="filterSelection('privacy')"> Privacy</button>
          <button class="btn active" onclick="filterSelection('research')"> Research</button>
          <button class="btn" onclick="filterSelection('tracker')"> Tracker</button>
		  <button class="btn" onclick="filterSelection('metadatapackage')"> Metadata Package</button>
		  <button class="btn" onclick="filterSelection('mobileapplication')"> Mobile Application</button>
		  <button class="btn" onclick="filterSelection('evaluation')"> Evaluation</button>
      </div>
  </div>
<div class="row">
  <div class="box author1 datause hiv integration pepfar">
    <div class="content">
      <h3>Poster - 1</h3>
      <h5>Organization: RTI</h5>
      <img loading="lazy" src="https://cdn.statically.io/img/www.dhis2academy.org/digital-annual-conference-2021/posters/dhis2pstrs/0001a_new.jpg" alt="DHIS2" style="width:100%">
    </div>
  </div>
  <div class="box author2 covid19 customapp interoparability">
    <div class="content">
      <h3>Poster - 2</h3>
      <h5>Organization: Universitat Politècnica de Catalunya</h5>
    <img loading="lazy" src="https://cdn.statically.io/img/www.dhis2academy.org/digital-annual-conference-2021/posters/dhis2pstrs/0002a_new.jpg" alt="DHIS2" style="width:100%">
    </div>
  </div>
  
  <div class="box author3 hiv cdc pepfar">
    <div class="content">
      <h3>Poster - 3</h3>
      <h5>Organization: CIDRZ</h5>
    <img loading="lazy" src="https://cdn.statically.io/img/www.dhis2academy.org/digital-annual-conference-2021/posters/dhis2pstrs/0003b_new.jpg" alt="DHIS2" style="width:100%">
    </div>
  </div>
  

  <div class="box author4 anticorruption research privacy show">
    <div class="content">
      <h3>Poster - 4</h3>
      <h5>Organization: U4 Anti-corruption resource centre</h5>
    <img loading="lazy" src="https://cdn.statically.io/img/www.dhis2academy.org/digital-annual-conference-2021/posters/dhis2pstrs/0004a_replace.jpg" alt="DHIS2" style="width:100%">
    </div>
  </div>
  
  <!--
  <div class="box author5 datause">
    <div class="content">
      <h3>Poster - 5</h3>
      <h5>Organization: </h5>
    <img loading="lazy" src="https://cdn.statically.io/img/www.dhis2academy.org/digital-annual-conference-2021/posters/dhis2pstrs/0005.jpg" alt="DHIS2" style="width:100%">
    </div>
  </div> -->
  
  <div class="box author5 datause">
    <div class="content">
      <h3>Poster - 5</h3>
      <h5>Organization: </h5>
      <img loading="lazy" src="https://cdn.statically.io/img/www.dhis2academy.org/digital-annual-conference-2021/posters/dhis2pstrs/0005a_resize.jpg" alt="DHIS2" style="width:100%">
    </div>
  </div>
  

  <div class="box author6 integration">
    <div class="content">
      <h3>Poster - 6</h3>
      <h5>Organization: Nyaya Health Nepal (NHN)</h5>
      <img loading="lazy" src="https://cdn.statically.io/img/www.dhis2academy.org/digital-annual-conference-2021/posters/dhis2pstrs/0006a_resize.jpg" alt="DHIS2" style="width:100%">
    </div>
  </div>
  
  <div class="box author7 hiv datause interoparability">
    <div class="content">
      <h3>Poster - 7</h3>
      <h5>Organization: FHI360</h5>
      <img loading="lazy" src="https://cdn.statically.io/img/www.dhis2academy.org/digital-annual-conference-2021/posters/dhis2pstrs/0007a.jpg" alt="DHIS2" style="width:100%">
    </div>
  </div>
  
  <div class="box author8 hiv datause metadatapackage">
    <div class="content">
      <h3>Poster - 8</h3>
      <h5>Organization: FHI 360 - BAO Systems</h5>
      <img loading="lazy" src="https://cdn.statically.io/img/www.dhis2academy.org/digital-annual-conference-2021/posters/dhis2pstrs/0008a.jpg" alt="DHIS2" style="width:100%">
    </div>
  </div>
   
   <div class="box author9 covid19 tracker interoparability">
    <div class="content">
      <h3>Poster - 9</h3>
      <h5>Organization: Castellum Digital Indonesia, University of Oslo</h5>
      <img loading="lazy" src="https://cdn.statically.io/img/www.dhis2academy.org/digital-annual-conference-2021/posters/dhis2pstrs/0009a.jpg" alt="DHIS2" style="width:100%">
    </div>
  </div>
  
  <div class="box author10 covid19">
    <div class="content">
      <h3>Poster - 10</h3>
      <h5>Organization: Castellum Digital Indonesia, University of Oslo</h5>
      <img loading="lazy" src="https://cdn.statically.io/img/www.dhis2academy.org/digital-annual-conference-2021/posters/dhis2pstrs/0010a.jpg" alt="DHIS2" style="width:100%">
    </div>
  </div>
   
   <div class="box author11 covid19 mobileapplication">
    <div class="content">
      <h3>Poster - 11</h3>
      <h5>Organization: Castellum Digital Indonesia, University of Oslo</h5>
      <img loading="lazy" src="https://cdn.statically.io/img/www.dhis2academy.org/digital-annual-conference-2021/posters/dhis2pstrs/0011a.jpg" alt="DHIS2" style="width:100%">
    </div>
  </div>

<div class="box author12 research evaluation show">
    <div class="content">
      <h3>Poster - 12</h3>
      <h5>Organization: Makerere University</h5>
      <img loading="lazy" src="https://cdn.statically.io/img/www.dhis2academy.org/digital-annual-conference-2021/posters/dhis2pstrs/0012a.jpg" alt="DHIS2" style="width:100%">
    </div>
  </div>

  
  
  
<!-- END GRID -->
</div>


</div>

<script>
filterSelection("all")
function filterSelection(c) {
  var x, i;
  x = document.getElementsByClassName("box");
  if (c == "all") c = "";
  for (i = 0; i < x.length; i++) {
    w3RemoveClass(x[i], "show");
    if (x[i].className.indexOf(c) > -1) w3AddClass(x[i], "show");
  }
}

function w3AddClass(element, name) {
  var i, arr1, arr2;
  arr1 = element.className.split(" ");
  arr2 = name.split(" ");
  for (i = 0; i < arr2.length; i++) {
    if (arr1.indexOf(arr2[i]) == -1) {element.className += " " + arr2[i];}
  }
}

function w3RemoveClass(element, name) {
  var i, arr1, arr2;
  arr1 = element.className.split(" ");
  arr2 = name.split(" ");
  for (i = 0; i < arr2.length; i++) {
    while (arr1.indexOf(arr2[i]) > -1) {
      arr1.splice(arr1.indexOf(arr2[i]), 1);     
    }
  }
  element.className = arr1.join(" ");
}


// Add active class to the current button (highlight it)
var btnContainer = document.getElementById("myBtnContainer");
var btns = btnContainer.getElementsByClassName("btn");
for (var i = 0; i < btns.length; i++) {
  btns[i].addEventListener("click", function(){
    var current = document.getElementsByClassName("active");
    current[0].className = current[0].className.replace(" active", "");
    this.className += " active";
  });
}
</script>
<script>
	const emailsObj = {
  author1: 'alasu@rti.org',
  author2: 'petar@essi.upc.edu',
  author3: 'vikwatokamanga@gmail.com',
  author4: 'daniel.hausenkamph@cmi.no',
  author5: 'tsegshsmart@gmail.com',
  author6: 'timilsina.dwas@gmail.com',
  author7: 'GParola@fhi360.org',
  author8: 'KStankevitz@fhi360.org',
  author9: 'yuda.karnaen11@gmail.com',
  author10: 'ekadewi.mulyati@gmail.com',
  author11: 'yuda.karnaen11@gmail.com',
  author12: 'maggien20099@gmail.com',
  author13: 'kkelly@baosystems.com'
};


const titlesObj = {
  author1: 'Poster-1: The Digital Transformation of the HIV Care and Treatment Program at Juba Military HospitalÂ in South Sudan',
  author2: 'Poster-2: Go.Data-DHIS2 interoperability app',
  author3: 'Poster-3: Development of an harmonized monitoring and reporting system in Zambia using DHIS2',
  author4: 'Poster-4: Integratingâ€¯anti-corruption thinking in HMIS: Improving transparency and promoting equity',
  author5: 'Poster-5: How DHIS2 become cornerstone for data use?',
  author6: 'Poster-6: NepalEHR and DHIS2 integration; Automation in submitting facility based digital data into National HMIS using DHIS2 platform in Nepal',
  author7: 'Poster-7: Interface Between DHIS2 (aggregate) and Power BI for Analytics and Visualization',
  author8: "Poster-8: Standardized DHIS2 Tracker Metadata Package for HIV Programs Indonesia's COVID19 Cases System and DHIS2 Contact Tracing : DHIS2 Integration Process from other System",
  author9: 'Poster-9: DHIS2 Helpdesk Unit as the a Main Key of Knowledge',
  author10: 'Poster-10: DHIS2: Contact Tracing Case Study in Indonesia',
  author11: 'Poster-11: DHIS2 Contact Tracing Mobile Application: Local Design and Implementation in Indonesia',
  author12: 'Poster-12: Validation of the Performance-based Evaluation Framework for Electronic Health Information Systems: Case of Uganda',
  author13: 'Poster-13: Leveraging a DHIS2 Custom Dashboard App to Make Standard Analysis More Accessible to Users'
};


const organizationsObj = {
  author1: 'Organization: RTI',
  author2: 'Organization: Universitat PolitÃ¨cnica de Catalunya',
  author3: 'Organization: CIDRZ',
  author4: 'Organization: U4 Anti-corruption resource centre',
  author5: 'Organization: ',
  author6: 'Organization: Nyaya Health Nepal (NHN)',
  author7: 'Organization: FHI360',
  author8: 'Organization: FHI 360 - BAO Systems',
  author9: 'Organization: Castellum Digital Indonesia & University of Oslo',
  author10: 'Organization: Castellum Digital Indonesia & University of Oslo',
  author11: 'Organization: Castellum Digital Indonesia, University of Oslo',
  author12: 'Organization: Makerere University',
  author13: 'Organization: BAO Systems'
};

 
window.addEventListener('DOMContentLoaded', function () {
  let boxes = document.querySelectorAll('.box');

  Array.from(boxes, function (box) {
    box.addEventListener('click', function () {
      $('#myModal').modal();

      const posterTitle = titlesObj[this.classList[1]];
      const posterOrganization = organizationsObj[this.classList[1]];
      const authorEmail = emailsObj[this.classList[1]];

      //populate the contents
      document.getElementById('posterTitle').innerHTML = posterTitle;
      document.getElementById('posterOrganization').innerHTML = posterOrganization;
      $('#myModal').find('input[name="authorEmail"]').val(authorEmail);
    });
  });
});

$(function () {
  function after_form_submitted(data) {
    if (data.result == 'success') {
      $('form#reused_form').hide();
      $('#success_message').show();
      $('#error_message').hide();
      setTimeout(function () {
        location.reload();
      }, 5000);
    } else {
      $('#error_message').append('<ul></ul>');

      jQuery.each(data.errors, function (key, val) {
        $('#error_message ul').append('<li>' + key + ':' + val + '</li>');
      });
      $('#success_message').hide();
      $('#error_message').show();

      //reverse the response on the button
      $('button[type="button"]', $form).each(function () {
        $btn = $(this);
        label = $btn.prop('orig_label');
        if (label) {
          $btn.prop('type', 'submit');
          $btn.text(label);
          $btn.prop('orig_label', '');
        }
      });
    } //else
  }

  $('#reused_form').submit(function (e) {
    e.preventDefault();

    $form = $(this);
    //show some response on the button
    $('button[type="submit"]', $form).each(function () {
      $btn = $(this);
      $btn.prop('type', 'button');
      $btn.prop('orig_label', $btn.text());
      $btn.text('Sending ...');
    });

    $.ajax({
      type: 'POST',
      url: 'handler.php',
      data: $form.serialize(),
      success: after_form_submitted,
      dataType: 'json',
    });
  });
});
	</script>


</body></html>
